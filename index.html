<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
   <h1>Latest Tweets</h1>
   <input class="new-tweet" type="text"></input>
   <button class="send-tweet">Add Tweet</button>
   <ul class="tweets"></ul>
   
    <script>

      var Tweets = {};


      Tweets.update = function() {
        $('.tweets').html('');
        var streamLength = streams.home.length;
        var index = streams.home.length - 1 - 15;
        while(index < streamLength ){
          var tweet = streams.home[index];
          var $tweet = $('<li>@' + tweet.user + ': ' + tweet.message + '</li>');
          //$tweet.text();
          $(".tweets").prepend('<li>@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at + '</li>');
          index++;
        }
      };

      Tweets.addTweet = function(tweet){
        $('.tweets').prepend('<li><strong>' + tweet + '</strong></li>');
        $('.new-tweet').val('');
      };

   
     
      $(document).ready(function(){
        var $body = $('body');
        Tweets.update();//load initial tweets;
        //EVENT LISTENER
        $body.on('click', '.send-tweet', function() { 
          var message = $('.new-tweet').val();
          console.log(message);
          Tweets.addTweet(message);

        });    
        

      });

    </script>

    
  </body>

</html>
