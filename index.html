<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
   <h1>Latest Tweets</h1>
   <buton class="update-tweets">Get New Tweets</buton>
   <ul class="tweets"></ul>
   
    <script>

      var Tweets = {};

      Tweets.update = function() {
        $('.tweets').html('');
        var index = streams.home.length - 1;
        console.log(index);
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<li>@' + tweet.user + ': ' + tweet.message + '</li>');
          //$tweet.text();
          $(".tweets").append('<li>@' + tweet.user + ': ' + tweet.message + ' ' + tweet.created_at + '</li>');
          index -= 1;
        }
      };
     
      $(document).ready(function(){
        var $body = $('body');
        Tweets.update();//load initial tweets;
        //EVENT LISTENER
        $body.on('click', '.update-tweets', function() { Tweets.update(); });

      });

    </script>

    
  </body>

</html>
